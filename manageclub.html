<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin Page</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        display: flex;
    }

    /* Sidebar styling */
    .sidebar {
        width: 250px;
        background-color: #237ad2;
        color: white;
        height: 100vh;
        padding: 20px;
        box-sizing: border-box;
    }

    .sidebar h2 {
        text-align: center;
        margin-bottom: 20px;
    }

    .sidebar a {
        color: white;
        text-decoration: none;
        display: block;
        margin: 10px 0;
        padding: 10px;
        border-radius: 5px;
    }

    .sidebar a:hover {
        background-color: #34495e;
    }

    .sidebar img {
        width: 150px; 
        height: auto;
        margin-bottom: 10px; 
    }

    /* Modal styling */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: white;
      padding: 20px;
      border-radius: 5px;
      width: 400px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .close-btn {
      float: right;
      font-size: 20px;
      cursor: pointer;
    }

    .close-btn:hover {
      color: red;
    }

    form label {
      display: block;
      margin-top: 10px;
    }

    form input, form select, form button {
      width: 100%;
      margin-top: 5px;
      padding: 8px;
      box-sizing: border-box;
    }

    form button {
      margin-top: 15px;
      background-color: #237ad2;
      color: white;
      border: none;
      cursor: pointer;
    }

    form button:hover {
      background-color: #1a5ba0;
    }
  </style>
</head>
<body>
    <div class="sidebar">
      <img src="/assets/images/Universiti_Tenaga_Nasional_Logo.png" alt="Admin Logo"> 
        <h2>Admin Panel</h2>
        <p>Welcome, <span id="username">Admin</span>!</p> 
        <a href="dashboard.html">Dashboard</a>
        <a href="manageclub.html" class="active">Manage Clubs</a>
        <a href="registerclub.html">Register Club</a>
        <a href="#" onclick="logout()">Logout</a>
    </div>
  <div class="admin-container">
    <header class="admin-header">
      <h1>Clubs List</h1>
      <button class="add-new-btn"
      onclick="window.location.href='registerclub.html'">Add New +</button>
    </header>
    <div class="search-filter-bar">
      <input type="text" placeholder="Search here" class="search-input" />
    </div>
    <table class="customers-table">
      <thead>
        <tr>
          <th><input type="checkbox" /></th>
          <th>Clubs name</th>
          <th>Club leader</th>
          <th>Contact</th>
          <th>Club Type</th>
          <th>Total members</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="checkbox" /></td>
          <td>Astena</td>
          <td>Danish Bin Yazid</td>
          <td>019-4342903</td>
          <td>Music</td>
          <td>49</td>
          <td class="status-cell">Active</td>
          <td>
            <button class="status-btn" onclick="toggleStatus(this)">Set Not Active</button>
            <button class="edit-btn" onclick="openEditModal(this)">Edit</button>
            <button class="delete-btn">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Add this modal for editing club details -->
  <div id="editModal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <h2>Edit Club Details</h2>
      <form id="editForm">
        <label for="clubName">Club Name:</label>
        <input type="text" id="clubName" name="clubName" required />

        <label for="clubLeader">Club Leader:</label>
        <input type="text" id="clubLeader" name="clubLeader" required />

        <label for="contact">Contact:</label>
        <input type="text" id="contact" name="contact" required />

        <label for="clubType">Club Type:</label>
        <input type="text" id="clubType" name="clubType" required />

        <label for="totalMembers">Total Members:</label>
        <input type="number" id="totalMembers" name="totalMembers" required />

        <label for="status">Status:</label>
        <select id="status" name="status">
          <option value="Active">Active</option>
          <option value="Not Active">Not Active</option>
        </select>

        <button type="submit">Save Changes</button>
      </form>
    </div>
  </div>

  <script>
    function logout() {
        window.location.href = "login.html";
    }

    // Function to open the modal and populate it with the current row's data
    function openEditModal(button) {
      const row = button.closest('tr');
      const clubName = row.cells[1].textContent;
      const clubLeader = row.cells[2].textContent;
      const contact = row.cells[3].textContent;
      const clubType = row.cells[4].textContent;
      const totalMembers = row.cells[5].textContent;
      const status = row.cells[6].textContent;

      document.getElementById('clubName').value = clubName;
      document.getElementById('clubLeader').value = clubLeader;
      document.getElementById('contact').value = contact;
      document.getElementById('clubType').value = clubType;
      document.getElementById('totalMembers').value = totalMembers;
      document.getElementById('status').value = status;

      document.getElementById('editModal').style.display = 'block';
    }

    // Function to close the modal
    function closeModal() {
      document.getElementById('editModal').style.display = 'none';
    }

    // Handle form submission
    document.getElementById('editForm').addEventListener('submit', function (e) {
      e.preventDefault();
      // Logic to save changes (e.g., update the table or send data to the server)
      closeModal();
    });
  </script>
</body>
</html>
